#!/bin/bash

BOLD_RED='\033[1;31m'
RESET='\033[0m'

if ! command -v magick &> /dev/null; then
  echo -e "ðŸª„ ${BOLD_RED}Can't find imagemagick!${RESET}"
  exit 1
fi

if [[ -z "$1" ]]; then
  echo "Usage: contact_sheet <image> (<image 2> ...) <output>"
  exit 1
fi

inputs=${*:1:$#-1}
output=${*:$#}
rows=$((($#+6)/6))

echo "Generating contact sheet out of $(($#-1)) files..."
magick montage -label '%f' -font Helvetica -pointsize 30 -background '#000000' -fill '#CCCCCC' \
  -geometry 400x400+10+10 -auto-orient -tile 6x$rows $inputs "$output"

echo "Generated as $output!"
